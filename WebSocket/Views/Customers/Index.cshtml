@model PagedList.IPagedList<WebSocket.Models.Northwind.Customer>
@using PagedList.Mvc;
<link href="~/Content/PagedList.css" rel="stylesheet" />
@{
    ViewBag.Title = "Customers";
}

<h2>Customers</h2>

<div class="row">
    <div class="col-md-6">
        <p>
            @Html.ActionLink("Create New", "Create", null, new { @class = "btn btn-primary" })
        </p>
    </div>
    <div class="col-md-3 pull-right">
        @using (Html.BeginForm("Index", "Customers", FormMethod.Get, new { @class = "form-inline" }))
        {
            @Html.TextBox("busqueda", ViewBag.CurrentFilter as string, new { @class = "form-control", @style = "width: 100%;" })
            <button type="submit" class="btn btn-success">Search</button>
        }
    </div>
</div>


<div class="table-responsive">
    <table class="table table-striped" width="100%">
        <thead>
            <tr>
                <th>
                    @Html.ActionLink("Company Name", "Index", new { ordenarPor = ViewBag.CompanySortParm, filtroActual = ViewBag.CurrentFilter })
                </th>
                <th>
                    @Html.ActionLink("Contact Name", "Index", new { ordenarPor = ViewBag.ContactSortParm, filtroActual = ViewBag.CurrentFilter })
                </th>
                <th>
                    @Html.ActionLink("Contact Title", "Index", new { ordenarPor = ViewBag.Contact2SortParm, filtroActual = ViewBag.CurrentFilter })
                </th>
                <th>
                    @Html.ActionLink("Address", "Index", new { ordenarPor = ViewBag.AddressSortParm, filtroActual = ViewBag.CurrentFilter })
                </th>
                <th>
                    @Html.ActionLink("City", "Index", new { ordenarPor = ViewBag.CitySortParm, filtroActual = ViewBag.CurrentFilter })
                </th>
                <th>
                    @Html.ActionLink("Region", "Index", new { ordenarPor = ViewBag.RegionSortParm, filtroActual = ViewBag.CurrentFilter })
                </th>
                <th>
                    @Html.ActionLink("Postal Code", "Index", new { ordenarPor = ViewBag.PostalSortParm, filtroActual = ViewBag.CurrentFilter })
                </th>
                <th>
                    @Html.ActionLink("Country", "Index", new { ordenarPor = ViewBag.CountrySortParm, filtroActual = ViewBag.CurrentFilter })
                </th>
                <th>
                    @Html.ActionLink("Phone", "Index", new { ordenarPor = ViewBag.PhoneSortParm, filtroActual = ViewBag.CurrentFilter })
                </th>
                <th>
                    @Html.ActionLink("Fax", "Index", new { ordenarPor = ViewBag.FaxSortParm, filtroActual = ViewBag.CurrentFilter })
                </th>
                <th>
                    Acciones
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.CompanyName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ContactName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ContactTitle)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Address)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.City)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Region)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PostalCode)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Country)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Phone)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Fax)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "Edit", new { id = item.CustomerID }) |
                        @Html.ActionLink("Details", "Details", new { id = item.CustomerID }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.CustomerID })
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>


<div class="text-center">
    Pagina @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) de @Model.PageCount
    @Html.PagedListPager(Model, numeroDePagina => Url.Action("index", new { numeroDePagina, ordenarPor = ViewBag.CurrentSort, filtroActual = ViewBag.CurrentFilter }))
</div>
